# LibreChat configuration file
# See: https://www.librechat.ai/docs/configuration/librechat_yaml
#
# IMPORTANT: To ensure only the LiteLLM endpoint appears in the UI, set the following environment variable:
#   ENDPOINTS=custom
# This disables all default endpoints (like OpenAI) except your custom ones.

version: 1.2.8
cache: true

# UI Interface settings
interface:
  endpointsMenu: true
  modelSelect: true
  parameters: true
  sidePanel: true
  presets: true
  prompts: true
  bookmarks: true
  multiConvo: true
  agents: true

# File upload and output configuration
fileConfig:
  endpoints:
    default:
      totalSizeLimit: 20  # Max total upload per request (MB)
    LiteLLM:
      fileLimit: 5        # Max 5 files per request
      fileSizeLimit: 10   # Max 10MB per file
      supportedMimeTypes:
        - "image/.*"
        - "application/pdf"
  serverFileSizeLimit: 100  # Max file size server will accept (MB)
  avatarSizeLimit: 2        # Max avatar image size (MB)
  imageGeneration:
    percentage: 100
    px: 1024
  clientImageResize:
    enabled: false
    maxWidth: 1900
    maxHeight: 1900
    quality: 0.92

# Memory (persistent user context) configuration
memory:
  disabled: false
  validKeys: ["preferences", "work_info", "personal_info", "skills", "interests", "context"]
  tokenLimit: 10000
  personalize: true

# Web search configuration
webSearch:
  enabled: true
  searchProvider: ${SEARCH_PROVIDER}
  searxng:
    url: ${SEARXNG_URL}
  reranker:
    provider: ${RERANKER_PROVIDER}
    apiKey: ${JINA_API_KEY}
  scraper:
    provider: ${SCRAPER_PROVIDER}
    url: ${SCRAPER_URL}

# Custom endpoints configuration
endpoints:
  custom:
    - name: "LiteLLM"
      apiKey: "${LITELLM_DEFAULT_APIKEY}"  # User must provide their own key
      baseURL: "${LITELLM_URL}"  # Update to your LiteLLM proxy URL if different
      models:
        default: ["${LITELLM_DEFAULT_MODEL}"]  # Or any model available via your LiteLLM proxy
        fetch: true
      titleConvo: true
      titleModel: "${LITELLM_TITLE_MODEL}"
      summarize: false
      summaryModel: "${LITELLM_SUMMARY_MODEL}"
      forcePrompt: false
      modelDisplayLabel: "AMEND LITELLM"

# Database configuration
mongo:
  uri: ${MONGO_URI}  # Set in your .env file for MongoDB Atlas
postgres:
  uri: ${POSTGRES_URI}  # Set in your .env file for Supabase Postgres